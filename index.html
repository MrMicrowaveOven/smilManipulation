<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sample XML</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <label>XML View
      <div class="XMLSpace">
        &lt;smil&gt;<br>
          &emsp;&lt;head&gt;<br>
          &emsp;&lt;/head&gt;<br>
          &emsp;&lt;body&gt;<br><br>
            <div class="streams" id="streams">

            </div>
            <br>
            <div class="playlists" id="playlists">

            </div>
          &emsp;&lt;/body&gt;
          <br>&lt;/smil&gt;
      </div>
    </label>
    <label>Control Panel
      <div class="controlPanel">
        <div class="addStream">
          <label><strong>Add Stream</strong><br>
            <label>Stream Name: <input type="text" id="streamName" name="streamName" value=""></label><br>
            <button type="Add" name="button" onClick="AddStream()">Add Stream</button><br>
          </label>
        </div>

        <div class="addPlaylist">
          <label><strong>Add Playlist</strong><br>
            <label>Playlist Name: <input type="text" id="playlistName" name="playlistName" value=""></label><br>
            <label>Stream to play on: <input type="text" id="playlistStream" name="playlistStream" value=""></label><br>
            <input type="checkbox" name="repeat" id="repeat" value="">Repeat?<br>
            <label>Time to play stream: <input type="datetime-local" name="dateTime" id="dateTime" value=""></label><br>
            <button type="Add" name="button" onClick="AddPlaylist()">Add Playlist</button>
          </label>
        </div>

        <div class="addVideo">
          <label><strong>Add Video</strong><br>
            <label>Playlist: <input type="text" name="vidPlaylist" id="vidPlaylist" value=""></label><br>
            <label>Source: <input type="text" name="source" id="source" value=""></label><br>
            <label>Start Time: <input type="text" name="start" id="start" value=""></label><br>
            <label>Length to Play: <input type="text" name="length" id="length" value=""></label><br>
            <button type="Add" name="button" onClick="AddVideo()">Add Video</button>
          </label>
        </div>
      </div>
    </label>

    <script type="text/javascript">
      function AddStream() {
        var streamName = document.getElementById("streamName").value;
        var streamXML = '<stream name="' + streamName + '"></stream>';
        var stream = document.createTextNode(streamXML);
        document.getElementById("streams").appendChild(stream);
        document.getElementById("streams").appendChild(document.createElement("br"));
      }

      function AddPlaylist() {
        var playlistName = document.getElementById("playlistName").value;
        var playlistStream = document.getElementById("playlistStream").value;
        var repeat = document.getElementById("repeat").checked;
        var timeToPlay = document.getElementById("dateTime").value;
        var playlistXML = '<playlist name="' + playlistName
                    + '" playOnStream="' + playlistStream
                    + '" repeat="' + repeat
                    + '" scheduled="' + dateTime + '">'
        var playlist = document.createTextNode(playlistXML);

        var playlistDiv = document.createElement("div");
        playlistDiv.setAttribute("id", playlistName);
        document.getElementById("playlists").appendChild(playlistDiv);

        playlistDiv.appendChild(playlist);
        playlistDiv.appendChild(document.createElement("br"));

        var vidsDiv = document.createElement("div");
        vidsDiv.setAttribute("id", playlistName + "Vids");
        vidsDiv.setAttribute("class", "videos");
        playlistDiv.appendChild(vidsDiv);

        var playlistClose = document.createTextNode("</playlist>");
        playlistDiv.appendChild(playlistClose);
        playlistDiv.appendChild(document.createElement("br"));
        playlistDiv.appendChild(document.createElement("br"));
      }

      function AddVideo() {
        var vidPlaylist = document.getElementById("vidPlaylist").value;
        var source = document.getElementById("source").value;
        var start = document.getElementById("start").value;
        var length = document.getElementById("length").value;

        var playlistDiv = document.getElementById(vidPlaylist + "Vids");
        var vidXML = '<video src="' + source
                    + '" start="' + start
                    + '" length="' + length + '">'
        playlist = document.createTextNode(vidXML);
        playlistDiv.appendChild(playlist);

        var videoClose = document.createTextNode("</video>");
        playlistDiv.appendChild(videoClose);
        playlistDiv.appendChild(document.createElement("br"));
      }
    </script>
  </body>
</html>
